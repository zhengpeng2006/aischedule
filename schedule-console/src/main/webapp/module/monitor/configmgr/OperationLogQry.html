<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:="appengine">
<head jwcid="@Head">
<span jwcid="$Remove$">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link href="/ecl/webframe-ecl-base.css" rel="stylesheet"
		type="text/css" media="screen" />
</span>
<script src="module/monitor/configmgr/js/OperationLogQry.js" type="text/javascript"></script>
<script src="component/My97DatePicker/WdatePicker.js" type="text/javascript"></script>
</head>

<body jwcid="@Body">
			<!-- start -->
			<div class="c_box">
			<div class="c_form c_form-col-4 c_form-label-7 c_form-inline"
				uiid="queryForm" id="queryForm" type="condForm" objName="queryForm"
				uitype="condform" editable="true">
				<ul class="ul">
					<li class="li"><span class="label">模块:</span> <span
						class="e_elements"><span class="e_select"> <span><span><select
										jwcid="@Select" id="module" name="module" value="ognl:queryForm.module"
										desc="模块" source="ognl:getModuleList()" changeValue="true" addDefault="true"
										defaultText="请选择模块" uiid="queryForm_module"></select></span></span>
						</span></span></li>
					<li class="li"><span class="label">操作类型:</span> <span
						class="e_elements"><span class="e_select"> <span><span><select
										jwcid="@Select" id="operType" name="operType"
										value="ognl:queryForm.operType" desc="操作类型" source="ognl:getTypeList()"
										changeValue="true" addDefault="true" defaultText="请选择操作类型"
										uiid="queryForm_operType"></select></span></span>
						</span></span></li>
					<li class="li"><span class="label">操作对象:</span> <span
						class="e_elements"><span class="e_select"> <span><span><select
										jwcid="@Select" id="operObj" name="operObj" value="ognl:queryForm.operObj"
										desc="操作对象" source="ognl:getObjList()" changeValue="true" addDefault="true"
										defaultText="请选择操作对象" uiid="queryForm_operObj"></select></span></span>
						</span></span></li>
					<li class="li"><span class="label">操作对象标识:</span> <span
						class="e_elements"><span class="e_input"> <span><input
									jwcid="@TextField" type="text" id="content" name="content"
									value="ognl:queryForm.content" desc="操作对象标识"
									uiid="queryForm_content" /></span>
						</span></span></li>
					<li class="li"><span class="label">操作员:</span> <span
						class="e_elements"><span class="e_input"> <span><input
									jwcid="@TextField" type="text" id="operator" name="operator"
									value="ognl:queryForm.operator" desc="操作员"
									uiid="queryForm_operator" /></span>
						</span></span></li>
					<li class="li"><span class="label">操作客户端IP:</span> <span
						class="e_elements"><span class="e_input"> <span><input
									jwcid="@TextField" type="text" id="operationClientIp" name="operationClientIp"
									value="ognl:queryForm.operationClientIp" desc="操作客户端IP"
									uiid="queryForm_operationClientIp" /></span>
						</span></span></li>
					<li class="li"><span class="label">开始时间:</span> <span
						class="e_elements">	<input id="startTime" name="startTime" class="Wdate" 
						type="text" style="width:100%" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})"/>
					</span></li>
					<li class="li"><span class="label">结束时间:</span> <span
						class="e_elements">	<input id="endTime" name="endTime" class="Wdate" type="text" 
						style="width:100%"  onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})"/>
					</span></li>
				</ul>
				<div class="submitPlace"></div>
				<div class="submit" uitype="btngroup" editable="true">
					<button onclick="OperationLogJS.exportOnclick()" template_type="operate" type="button"
						name="queryButton" class="e_button-form" formId="queryForm" style="float:right">
						<span>操作日志导出</span>
					</button>
					<button onclick="OperationLogJS.qryLog()" template_type="operate" type="button"
						name="queryButton" class="e_button-form" formId="queryForm" style="float:right">
						<span>查询</span>
					</button>
				</div>
			</div>

			<div jwcid="operateLogs@Part" uiid="operateLogs" id="operateLogs"
				element="div" type="table"
				objName="operateLogsItems,operateLogsCount"
				bo="com.asiainfo.common.abo.bo.BOSchedulerOperations" uitype="table"
				editable="true">
				<div class="c_scroll" style="height: 420px">
					<div class="c_table c_table-row-10">
						<table jwcid="@Table" name="operateLogsTable" scroll="true">
							<thead>
								<tr>
									<th col="operateLogsRowIndex" style="display: none">RowIndex</th>
									<th col="operationId" style="display: none">操作记录标志</th>
									<th col="operationModel" colcss="e_left" class="wrap">模块</th>
									<th col="operationType" colcss="e_left" class="wrap">操作类型
									</th>
									<th col="operationObjectType" colcss="e_left" class="wrap">操作对象类型
									</th>
									<th col="operationObjectContent" colcss="e_left" class="wrap" colspan="2">操作对象标识</th>
									<th col="createDate" colcss="e_left" class="wrap">操作时间</th>
									<th col="operator" colcss="e_left" class="wrap">操作员</th>
									<th col="operationClientIp" colcss="e_left" class="wrap">操作客户端IP</th>
									<th col="remarks" colcss="e_left" class="wrap">备注</th>
								</tr>
							</thead>
							<tbody>
								<span jwcid="@Foreach" source="ognl:operateLogsItems"
									value="ognl:operateLogsItem" index="ognl:operateLogsRowIndex">
									<tr>
										<td style="display: none"><span jwcid="@Insert"
											value="ognl:operateLogsRowIndex+1"></span></td>
										<td style="display: none"><span jwcid="@Insert"
											value="ognl:operateLogsItem.operationId" name="operationId"></span></td>

										<td class="e_left wrap"><span jwcid="@Insert"
											value="ognl:operateLogsItem.operationModel"
											name="operationModel"></span></td>

										<td class="e_left wrap"><span jwcid="@Insert"
											value="ognl:operateLogsItem.operationType"
											name="operationType"></span></td>

										<td class="e_left wrap"><span jwcid="@Insert"
											value="ognl:operateLogsItem.operationObjectType"
											name="operationObjectType"></span></td>

										<td class="e_left wrap"><span jwcid="@Insert"
											value="ognl:operateLogsItem.operationObjectContentShort"
											name="operationObjectContentShort"></span>
											</td>
											<td class="e_left wrap">
											
										<button	name="detail" class="e_button-form"
												onclick="OperationLogJS.showDetail($(this));" style="float:right">
													<span>详情</span>
											</button></td>
											
										<td style="display:none"><span jwcid="@Insert"
											value="ognl:operateLogsItem.operationObjectContent"
											name="operationObjectContent"></span></td>

										<td class="e_left wrap"><span jwcid="@Insert"
											value="ognl:operateLogsItem.createDate" name="createDate"></span>
										</td>

										<td class="e_left wrap"><span jwcid="@Insert"
											value="ognl:operateLogsItem.operator" name="operator"></span>
										</td>
										
										<td class="e_left wrap"><span jwcid="@Insert"
											value="ognl:operateLogsItem.operationClientIp" name="operationClientIp"></span>
										</td>

										<td class="e_left wrap"><span jwcid="@Insert"
											value="ognl:operateLogsItem.remarks" name="remarks"></span></td>

									</tr>
								</span>
							</tbody>
						</table>
					</div>
				</div>
				<div jwcid="@NavBar" name="operateLogsNavBar" cond="queryForm"
					part="operateLogs" listener="qryLog" count="ognl:operateLogsCount"></div>
			</div>
			
			</div>
			<div id="detailDiv" style="display:none;height:500px;width:500px;overflow-y:true;font:14px/1.5 Arial;word-break:break-all; padding:3px 0px 0px 5px;">
			</div>
</body>
</html>
